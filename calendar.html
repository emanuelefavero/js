<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Date Picker</title>

    <style>
      :root {
        --border-radius: 0.5rem;
      }

      body {
        font-family: -apple-system, system-ui, BlinkMacSystemFont, 'Inter',
          'SF Pro', 'San Francisco Pro', 'Helvetica Neue', Helvetica, 'Segoe UI',
          Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', sans-serif;
      }

      .date-picker {
        position: relative;
        display: inline-block;

        & input {
          margin-bottom: 1rem;
        }
      }

      .calendar {
        position: absolute;
        top: 100%;
        left: 0;
        background-color: #f5f5f4;
        border: 1px solid rgba(0, 0, 0, 0.1);
        border-radius: 1rem;
        padding: 10px;
        user-select: none;
        z-index: 1;

        & table {
          width: 100%;
          border-collapse: separate;
          border-spacing: 0;
        }

        & th,
        & td {
          text-align: center;
          padding: 5px;
          border: 1px solid rgba(0, 0, 0, 0.1);
        }

        & th {
          background-color: #f0f0f0;
        }

        & td {
          cursor: pointer;
          background-color: #fff;
          transition: background-color 0.3s;
        }

        & td:hover {
          background-color: #a855f7;
          color: #fff;
        }

        & td:active {
          background-color: #7e22ce;
        }

        /* --- */
        /* TABLE BORDER RADIUS */
        /* Top left cell */
        & th:first-child {
          border-top-left-radius: var(--border-radius);
        }

        /* Top right cell */
        & th:last-child {
          border-top-right-radius: var(--border-radius);
        }

        /* Bottom left cell */
        & tr:last-child & td:first-child {
          border-bottom-left-radius: var(--border-radius);
        }

        /* Bottom right cell */
        & tr:last-child {
          border-bottom-right-radius: var(--border-radius);
        }
        /* --- */
      }

      .date-input {
        width: 200px;
        padding: 10px;
        color: #a855f7;
        font-weight: 600;
        border: 1px solid #ddd;
        border-radius: var(--border-radius);

        &:focus {
          outline: none;
          border-color: #a855f7;
        }
      }
    </style>
  </head>
  <body>
    <div id="datePicker" class="date-picker">
      <input
        type="text"
        id="dateInput"
        class="date-input"
        placeholder="Select a date..."
        readonly
      />
      <div id="calendar" class="calendar" style="display: none">
        <!-- Calendar will be generated by JavaScript -->
      </div>
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const dateInput = document.getElementById('dateInput')
        const calendar = document.getElementById('calendar')

        dateInput.addEventListener('click', function () {
          calendar.style.display = 'block'
          generateCalendar(new Date())
        })

        function generateCalendar(date) {
          const monthDays = new Date(
            date.getFullYear(),
            date.getMonth() + 1,
            0
          ).getDate()
          const startDay = new Date(
            date.getFullYear(),
            date.getMonth(),
            1
          ).getDay()

          let calendarHTML =
            '<table><tr><th>Su</th><th>Mo</th><th>Tu</th><th>We</th><th>Th</th><th>Fr</th><th>Sa</th></tr><tr>'
          for (let i = 0; i < startDay; i++) {
            calendarHTML += '<td></td>'
          }

          for (let day = 1; day <= monthDays; day++) {
            if ((day + startDay - 1) % 7 === 0) {
              calendarHTML += '</tr><tr>'
            }
            calendarHTML += `<td class="calendar-day">${day}</td>`
          }

          calendarHTML += '</tr></table>'
          calendar.innerHTML = calendarHTML

          document.querySelectorAll('.calendar-day').forEach((day) => {
            day.addEventListener('click', function () {
              dateInput.value = `${date.getFullYear()}-${String(
                date.getMonth() + 1
              ).padStart(2, '0')}-${String(day.textContent).padStart(2, '0')}`
              calendar.style.display = 'none'
            })
          })
        }
      })
    </script>
  </body>
</html>
